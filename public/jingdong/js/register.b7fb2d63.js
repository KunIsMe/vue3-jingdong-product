(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"0499":function(e,t,n){"use strict";n("f573")},"0eb4":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var s=n("7a23");Object(s["w"])("data-v-279770db");var r={class:"toast"};function a(e,t,n,a,c,o){return Object(s["t"])(),Object(s["f"])("div",r,Object(s["C"])(n.message),1)}Object(s["u"])();var c={name:"Toast",props:["message"]},o=function(){var e=Object(s["x"])({show:!1,toastMessage:""}),t=function(t){e.show=!0,e.toastMessage=t,setTimeout((function(){e.show=!1,e.toastMessage=""}),2e3)},n=Object(s["D"])(e),r=n.show,a=n.toastMessage;return{show:r,toastMessage:a,showToast:t}};n("0499");c.render=a,c.__scopeId="data-v-279770db";t["a"]=c},"0f9e":function(e,t,n){"use strict";n.r(t);var s=n("7a23");Object(s["w"])("data-v-3830f8f6");var r={class:"wrapper"},a=Object(s["g"])("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1),c={class:"wrapper__input"},o={class:"wrapper__input"},u={class:"wrapper__input"};function i(e,t,n,i,p,l){var d=Object(s["A"])("Toast");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("div",r,[a,Object(s["g"])("div",c,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.username=e})},null,512),[[s["F"],i.username]])]),Object(s["g"])("div",o,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",placeholder:"请输入密码",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e})},null,512),[[s["F"],i.password]])]),Object(s["g"])("div",u,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",placeholder:"确认密码",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.ensurement=e})},null,512),[[s["F"],i.ensurement]])]),Object(s["g"])("div",{class:"wrapper__register-button",onClick:t[3]||(t[3]=function(){return i.handleRegister&&i.handleRegister.apply(i,arguments)})},"注册"),Object(s["g"])("div",{class:"wrapper__register-link",onClick:t[4]||(t[4]=function(){return i.handleLoginClick&&i.handleLoginClick.apply(i,arguments)})},"已有账号去登陆")]),i.show?(Object(s["t"])(),Object(s["d"])(d,{key:0,message:i.toastMessage},null,8,["message"])):Object(s["e"])("",!0)],64)}Object(s["u"])();var p=n("1da1"),l=(n("96cf"),n("6c02")),d=n("b775"),w=n("0eb4"),g=function(e){var t=Object(l["d"])(),n=Object(s["x"])({username:"",password:"",ensurement:""}),r=function(){var s=Object(p["a"])(regeneratorRuntime.mark((function s(){var r,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(d["b"])("/api/user/register",{username:n.username,password:n.password});case 3:r=s.sent,0===(null===r||void 0===r?void 0:r.errno)?(a=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/,c=/^(\w){6,20}$/,0===n.username.length?e("用户名不能为空"):0===n.password.length?e("密码不能为空"):0===n.ensurement.length?e("请填写确认密码"):n.ensurement!==n.password?e("两次密码输入不一致"):a.test(n.username)?c.test(n.password)?t.push({name:"Login"}):e("密码：只能输入6-20个字母、数字、下划线"):e("用户名：只能输入5-20个以字母开头、可带数字、“_”、“.”的字串")):e("用户注册失败"),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),e("网络请求失败");case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}(),a=Object(s["D"])(n),c=a.username,o=a.password,u=a.ensurement;return{username:c,password:o,ensurement:u,handleRegister:r}},b=function(){var e=Object(l["d"])(),t=function(){e.push({name:"Login"})};return{handleLoginClick:t}},m={name:"Register",components:{Toast:w["a"]},setup:function(){var e=Object(w["b"])(),t=e.show,n=e.toastMessage,s=e.showToast,r=g(s),a=r.username,c=r.password,o=r.ensurement,u=r.handleRegister,i=b(),p=i.handleLoginClick;return{show:t,toastMessage:n,username:a,password:c,ensurement:o,handleRegister:u,handleLoginClick:p}}};n("6d29");m.render=i,m.__scopeId="data-v-3830f8f6";t["default"]=m},"6d29":function(e,t,n){"use strict";n("c113")},c113:function(e,t,n){},f573:function(e,t,n){}}]);
//# sourceMappingURL=register.b7fb2d63.js.map
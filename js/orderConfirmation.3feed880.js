(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderConfirmation"],{"0499":function(t,e,c){"use strict";c("f573")},"0b75":function(t,e,c){},"0eb4":function(t,e,c){"use strict";c.d(e,"b",(function(){return i}));var n=c("7a23");Object(n["w"])("data-v-279770db");var a={class:"toast"};function r(t,e,c,r,o,i){return Object(n["t"])(),Object(n["f"])("div",a,Object(n["C"])(c.message),1)}Object(n["u"])();var o={name:"Toast",props:["message"]},i=function(){var t=Object(n["x"])({show:!1,toastMessage:""}),e=function(e){t.show=!0,t.toastMessage=e,setTimeout((function(){t.show=!1,t.toastMessage=""}),2e3)},c=Object(n["D"])(t),a=c.show,r=c.toastMessage;return{show:a,toastMessage:r,showToast:e}};c("0499");o.render=r,o.__scopeId="data-v-279770db";e["a"]=o},1148:function(t,e,c){"use strict";var n=c("a691"),a=c("1d80");t.exports="".repeat||function(t){var e=String(a(this)),c="",r=n(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(c+=e);return c}},3064:function(t,e,c){"use strict";c("f014")},"408a":function(t,e,c){var n=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"4a3e":function(t,e,c){},"54f7":function(t,e,c){"use strict";c("4a3e")},"75c9":function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));c("b680");var n=c("7a23"),a=c("5502"),r=function(t){var e=Object(a["b"])(),c=e.state.cartList,r=function(t,c,n,a){e.commit("changeCartItemInfo",{shopId:t,productId:c,productInfo:n,num:a})},o=Object(n["b"])((function(){var c,n=(null===(c=e.state.cartList[t])||void 0===c?void 0:c.productList)||{},a={};for(var r in n){var o=n[r];o.count>0&&(a[r]=o)}return a})),i=Object(n["b"])((function(){var c,n=(null===(c=e.state.cartList[t])||void 0===c?void 0:c.shopName)||"";return n})),s=Object(n["b"])((function(){var e,n=null===(e=c[t])||void 0===e?void 0:e.productList,a={total:0,price:0,allChecked:!0};if(n)for(var r in n){var o=n[r];a.total+=o.count,o.check&&(a.price+=o.count*o.price),o.count>0&&!o.check&&(a.allChecked=!1)}return a.price=a.price.toFixed(2),a}));return{cartList:c,productList:o,shopName:i,calculations:s,changeCartItemInfo:r}}},b680:function(t,e,c){"use strict";var n=c("23e7"),a=c("a691"),r=c("408a"),o=c("1148"),i=c("d039"),s=1..toFixed,u=Math.floor,d=function(t,e,c){return 0===e?c:e%2===1?d(t,e-1,c*t):d(t*t,e/2,c)},l=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},b=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){s.call({})}));n({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,c,n,i,s=r(this),b=a(t),_=[0,0,0,0,0,0],f="",p="0",v=function(t,e){var c=-1,n=e;while(++c<6)n+=t*_[c],_[c]=n%1e7,n=u(n/1e7)},O=function(t){var e=6,c=0;while(--e>=0)c+=_[e],_[e]=u(c/t),c=c%t*1e7},j=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==_[t]){var c=String(_[t]);e=""===e?c:e+o.call("0",7-c.length)+c}return e};if(b<0||b>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=l(s*d(2,69,1))-69,c=e<0?s*d(2,-e,1):s/d(2,e,1),c*=4503599627370496,e=52-e,e>0){v(0,c),n=b;while(n>=7)v(1e7,0),n-=7;v(d(10,n,1),0),n=e-1;while(n>=23)O(1<<23),n-=23;O(1<<n),v(1,1),O(2),p=j()}else v(0,c),v(1<<-e,0),p=j()+o.call("0",b);return b>0?(i=p.length,p=f+(i<=b?"0."+o.call("0",b-i)+p:p.slice(0,i-b)+"."+p.slice(i-b))):p=f+p,p}})},b957:function(t,e,c){"use strict";c.r(e);var n=c("7a23");Object(n["w"])("data-v-5d9f1d06");var a={class:"wrapper"};function r(t,e,c,r,o,i){var s=Object(n["A"])("TopArea"),u=Object(n["A"])("ProductList"),d=Object(n["A"])("Order");return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["j"])(s),Object(n["j"])(u),Object(n["j"])(d)])}Object(n["u"])(),Object(n["w"])("data-v-54236736");var o={class:"top"},i={class:"top__header"},s=Object(n["i"])(" 确认订单 "),u=Object(n["h"])('<div class="top__receiver" data-v-54236736><div class="top__receiver__title" data-v-54236736>收货地址</div><div class="top__receiver__address" data-v-54236736>北京理工大学国防科技园2号楼10层</div><div class="top__receiver__info" data-v-54236736><span class="top__receiver__info__name" data-v-54236736>瑶妹（先生）</span><span class="top__receiver__info__phone" data-v-54236736>18911024266</span></div><div class="top__receiver__icon iconfont" data-v-54236736></div></div>',1);function d(t,e,c,a,r,d){return Object(n["t"])(),Object(n["f"])("div",o,[Object(n["g"])("div",i,[Object(n["g"])("div",{class:"top__header__back iconfont",onClick:e[0]||(e[0]=function(){return a.handleBackClick&&a.handleBackClick.apply(a,arguments)})},""),s]),u])}Object(n["u"])();var l=c("6c02"),b={name:"TopArea",setup:function(){var t=Object(l["d"])(),e=function(){t.back()};return{handleBackClick:e}}};c("54f7");b.render=d,b.__scopeId="data-v-54236736";var _=b;c("b0c0"),c("b680");Object(n["w"])("data-v-7a2d03c9");var f={class:"products"},p={class:"products__title"},v={class:"product"},O={key:0,class:"product__item"},j=["src"],h={class:"product__item__detail"},m={class:"product__item__detail__title"},g={class:"product__item__detail__price"},k=Object(n["g"])("span",{class:"product__item__detail__price__yen"},"¥",-1),w={class:"product__item__detail__price__total"},C=Object(n["g"])("span",{class:"product__item__detail__price__yen"},"¥",-1);function I(t,e,c,a,r,o){return Object(n["t"])(),Object(n["f"])("div",f,[Object(n["g"])("div",p,Object(n["C"])(a.shopName),1),Object(n["g"])("ul",v,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(a.productList,(function(t){return Object(n["t"])(),Object(n["f"])(n["a"],{key:t._id},[t.count>0&&t.check?(Object(n["t"])(),Object(n["f"])("li",O,[Object(n["g"])("img",{class:"product__item__img",src:t.imgUrl},null,8,j),Object(n["g"])("div",h,[Object(n["g"])("h4",m,Object(n["C"])(t.name),1),Object(n["g"])("p",g,[k,Object(n["i"])(" "+Object(n["C"])(t.price)+" × "+Object(n["C"])(t.count)+" ",1),Object(n["g"])("span",w,[C,Object(n["i"])(" "+Object(n["C"])((t.price*t.count).toFixed(2)),1)])])])])):Object(n["e"])("",!0)],64)})),128))])])}Object(n["u"])();var L=c("75c9"),x={name:"ProductList",setup:function(){var t=Object(l["c"])(),e=t.params.id,c=Object(L["a"])(e),n=c.shopName,a=c.productList;return{shopName:n,productList:a}}};c("f787");x.render=I,x.__scopeId="data-v-7a2d03c9";var T=x;Object(n["w"])("data-v-7f38a997");var M={class:"order"},N={class:"order__price"},y=Object(n["i"])("实付金额 "),F=Object(n["g"])("h3",{class:"mask__content__title"},"确认要离开收银台？",-1),S=Object(n["g"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1),A={class:"mask__content__btns"};function P(t,e,c,a,r,o){var i=Object(n["A"])("Toast");return Object(n["t"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",M,[Object(n["g"])("div",N,[y,Object(n["g"])("b",null,"¥"+Object(n["C"])(a.calculations.price),1)]),Object(n["g"])("div",{class:"order__btn",onClick:e[0]||(e[0]=function(){return a.handleSubmitClick(!0)})},"提交订单")]),Object(n["K"])(Object(n["g"])("div",{class:"mask",onClick:e[4]||(e[4]=function(){return a.handleSubmitClick(!1)})},[Object(n["g"])("div",{class:"mask__content",onClick:e[3]||(e[3]=Object(n["L"])((function(){}),["stop"]))},[F,S,Object(n["g"])("div",A,[Object(n["g"])("div",{class:"mask__content__btns__btn mask__content__btns__btn--first",onClick:e[1]||(e[1]=function(){return a.handleConfirmOrder(!0)})},"取消订单"),Object(n["g"])("div",{class:"mask__content__btns__btn mask__content__btns__btn--last",onClick:e[2]||(e[2]=function(){return a.handleConfirmOrder(!1)})},"确认支付")])])],512),[[n["G"],a.showConfirm]]),a.show?(Object(n["t"])(),Object(n["d"])(i,{key:0,message:a.toastMessage},null,8,["message"])):Object(n["e"])("",!0)],64)}Object(n["u"])();var R=c("1da1"),B=(c("96cf"),c("5502")),E=c("b775"),J=c("0eb4"),z=function(){var t=Object(l["d"])(),e=Object(l["c"])(),c=Object(B["b"])(),n=parseInt(e.params.id,10),a=Object(L["a"])(n),r=a.productList,o=a.shopName,i=a.calculations,s=Object(J["b"])(),u=s.show,d=s.toastMessage,b=s.showToast,_=[];for(var f in r.value){var p=r.value[f];p.count>0&&p.check&&_.push({id:parseInt(p._id),num:p.count})}var v=function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E["b"])("/api/order",{addressId:1,shopId:n,shopName:o.value,isCanceled:a,products:_});case 3:r=e.sent,0===(null===r||void 0===r?void 0:r.errno)?(c.commit("clearCartProducts",{shopId:n}),t.push({name:"OrderList"})):(b("订单操作失败"),setTimeout((function(){t.push({path:"/shop/".concat(n)})}),2e3)),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),b("网络请求失败"),setTimeout((function(){t.push({path:"/shop/".concat(n)})}),2e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{calculations:i,show:u,toastMessage:d,handleConfirmOrder:v}},D=function(){var t=Object(n["y"])(!1),e=function(e){t.value=e};return{showConfirm:t,handleSubmitClick:e}},G={name:"Order",components:{Toast:J["a"]},setup:function(){var t=z(),e=t.calculations,c=t.show,n=t.toastMessage,a=t.handleConfirmOrder,r=D(),o=r.showConfirm,i=r.handleSubmitClick;return{calculations:e,show:c,toastMessage:n,showConfirm:o,handleConfirmOrder:a,handleSubmitClick:i}}};c("3064");G.render=P,G.__scopeId="data-v-7f38a997";var K=G,U={name:"OrderConfirmation",components:{TopArea:_,ProductList:T,Order:K}};c("cf9b");U.render=r,U.__scopeId="data-v-5d9f1d06";e["default"]=U},c3da:function(t,e,c){},cf9b:function(t,e,c){"use strict";c("0b75")},f014:function(t,e,c){},f573:function(t,e,c){},f787:function(t,e,c){"use strict";c("c3da")}}]);
//# sourceMappingURL=orderConfirmation.3feed880.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0499":function(e,t,n){"use strict";n("f573")},"0eb4":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var s=n("7a23");Object(s["w"])("data-v-279770db");var a={class:"toast"};function r(e,t,n,r,o,c){return Object(s["t"])(),Object(s["f"])("div",a,Object(s["C"])(n.message),1)}Object(s["u"])();var o={name:"Toast",props:["message"]},c=function(){var e=Object(s["x"])({show:!1,toastMessage:""}),t=function(t){e.show=!0,e.toastMessage=t,setTimeout((function(){e.show=!1,e.toastMessage=""}),2e3)},n=Object(s["D"])(e),a=n.show,r=n.toastMessage;return{show:a,toastMessage:r,showToast:t}};n("0499");o.render=r,o.__scopeId="data-v-279770db";t["a"]=o},6706:function(e,t,n){},ede4:function(e,t,n){"use strict";n.r(t);var s=n("7a23");Object(s["w"])("data-v-8eb5abe8");var a={class:"wrapper"},r=Object(s["g"])("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1),o={class:"wrapper__input"},c={class:"wrapper__input"};function u(e,t,n,u,i,p){var l=Object(s["A"])("Toast");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("div",a,[r,Object(s["g"])("div",o,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.username=e})},null,512),[[s["F"],u.username]])]),Object(s["g"])("div",c,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",placeholder:"请输入密码",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.password=e})},null,512),[[s["F"],u.password]])]),Object(s["g"])("div",{class:"wrapper__login-button",onClick:t[2]||(t[2]=function(){return u.handleLogin&&u.handleLogin.apply(u,arguments)})},"登录"),Object(s["g"])("div",{class:"wrapper__login-link",onClick:t[3]||(t[3]=function(){return u.handleRegisterClick&&u.handleRegisterClick.apply(u,arguments)})},"立即注册")]),u.show?(Object(s["t"])(),Object(s["d"])(l,{key:0,message:u.toastMessage},null,8,["message"])):Object(s["e"])("",!0)],64)}Object(s["u"])();var i=n("1da1"),p=(n("96cf"),n("6c02")),l=n("b775"),d=n("0eb4"),b=function(e){var t=Object(p["d"])(),n=Object(s["x"])({username:"",password:""}),a=function(){var s=Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(l["b"])("/api/user/login",{username:n.username,password:n.password});case 3:a=s.sent,0===(null===a||void 0===a?void 0:a.errno)?(r=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/,o=/^(\w){6,20}$/,0===n.username.length?e("请填写用户名"):0===n.password.length?e("请填写密码"):r.test(n.username)?o.test(n.password)?(localStorage.isLogin=!0,t.push({name:"Home"})):e("密码：只能输入6-20个字母、数字、下划线"):e("用户名：只能输入5-20个以字母开头、可带数字、“_”、“.”的字串")):e("用户登录失败"),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),e("网络请求失败");case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}(),r=Object(s["D"])(n),o=r.username,c=r.password;return{username:o,password:c,handleLogin:a}},g=function(){var e=Object(p["d"])(),t=function(){e.push({name:"Register"})};return{handleRegisterClick:t}},w={name:"Login",components:{Toast:d["a"]},setup:function(){var e=Object(d["b"])(),t=e.show,n=e.toastMessage,s=e.showToast,a=b(s),r=a.username,o=a.password,c=a.handleLogin,u=g(),i=u.handleRegisterClick;return{username:r,password:o,show:t,toastMessage:n,handleLogin:c,handleRegisterClick:i}}};n("f9b7");w.render=u,w.__scopeId="data-v-8eb5abe8";t["default"]=w},f573:function(e,t,n){},f9b7:function(e,t,n){"use strict";n("6706")}}]);
//# sourceMappingURL=login.345be2db.js.map